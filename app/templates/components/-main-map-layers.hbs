{{!-- Bind layer groups' layers --}}
{{#each visibleLayers key='id' as |layerObject|}}
  {{mapbox-gl-on 'mousemove' layerObject.style.id (action 'handleLayerMouseMove') 
    eventSource=map}}
  {{mapbox-gl-on 'mouseleave' layerObject.style.id (action 'handleLayerMouseLeave') 
    eventSource=map}}
  {{mapbox-gl-on 'click' layerObject.style.id (action 'handleLayerMouseClick') 
    eventSource=map}}
  {{mapbox-gl-layer 
      map=map 
      layer=layerObject.style}}
{{/each}}

{{!-- Highlighted Layer Handling --}}
{{#if hoveredFeature}}
  {{mapbox-gl-layer 
    map=map 
    layer=highlightedFeatureLayer}}
{{/if}}

{{component toolTipComponent}}

{{yield}}
