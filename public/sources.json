[
	{
		"id": "digital-citymap",
		"type": "cartovector",
		"source-layers": [{
				"id": "bulkhead-lines",
				"sql": "SELECT the_geom_webmercator FROM citymap_bulkheadlines_v0"
			},
			{
				"id": "arterials",
				"sql": "SELECT the_geom_webmercator FROM citymap_arterials_v0"
			},
			{
				"id": "pierhead-lines",
				"sql": "SELECT the_geom_webmercator FROM citymap_pierheadlines_v0"
			},
			{
				"id": "amendments",
				"sql": "SELECT the_geom_webmercator, cartodb_id as id, altmappdf, extract(epoch from effective) as effective FROM citymap_amendments_v0 WHERE effective IS NOT NULL"
			},
			{
				"id": "street-centerlines",
				"sql": "SELECT the_geom_webmercator, official_s AS streetname, streetwidt AS streetwidth FROM citymap_streetcenterlines_v0"
			},
			{
				"id": "citymap",
				"sql": "SELECT the_geom_webmercator, type FROM citymap_citymap_v0"
			},
			{
				"id": "name-changes-points",
				"sql": "SELECT the_geom_webmercator FROM citymap_streetnamechanges_points_v0"
			},
			{
				"id": "name-changes-lines",
				"sql": "SELECT the_geom_webmercator FROM citymap_streetnamechanges_streets_v0"
			},
			{
				"id": "name-changes-areas",
				"sql": "SELECT the_geom_webmercator FROM citymap_streetnamechanges_areas_v0"
			}
		]
	},
	{
	  "id": "zoning",
	  "type": "cartovector",
	  "source-layers": [
    	{
	      "id": "zoning-districts",
	      "sql": "SELECT *, CASE WHEN SUBSTRING(zonedist, 3, 1) = '-' THEN LEFT(zonedist, 2) WHEN SUBSTRING(zonedist, 3, 1) ~ E'[A-Z]' THEN LEFT(zonedist, 2) WHEN SUBSTRING(zonedist, 3, 1) ~ E'[0-9]' THEN LEFT(zonedist, 3) ELSE zonedist END as primaryzone FROM zoning_districts_v201803"
	    },
			{
				"id": "special-purpose-districts",
				"sql": "SELECT the_geom_webmercator, cartodb_id, sdlbl, sdname FROM special_purpose_districts_v201803"
			},
			{
				"id": "commercial-overlays",
				"sql": "SELECT * FROM commercial_overlays_v201803"
			}
	  ]
	},
	{
	   "id": "pluto",
	   "type": "cartovector",
	   "minzoom": 12,
	   "source-layers": [
	      {
	         "id": "pluto",
	         "sql": "SELECT the_geom_webmercator, bbl, lot, landuse, address FROM mappluto_v1711"
	      }
	   ]
	},
	{
    "id": "floodplains",
    "type": "cartovector",
    "source-layers": [
      {
        "id": "effective-flood-insurance-rate-2007",
        "sql": "SELECT the_geom_webmercator, CASE WHEN fld_zone IN ('A', 'A0', 'AE') THEN 'A' WHEN fld_zone = 'VE' THEN 'V' END as fld_zone FROM floodplain_firm2007_v0 WHERE fld_zone IN ('A', 'A0', 'AE') OR fld_zone = 'VE'"
      },
			{
	      "id": "preliminary-flood-insurance-rate",
	      "sql": "SELECT the_geom_webmercator, CASE WHEN fld_zone IN ('A', 'A0', 'AE') THEN 'A' WHEN fld_zone = 'VE' THEN 'V' WHEN fld_zone = '0.2 PCT ANNUAL CHANCE FLOOD HAZARD' THEN 'Shaded X' END as fld_zone FROM floodplain_pfirm2015_v0 WHERE fld_zone IN ('A', 'A0', 'AE') OR fld_zone = 'VE' "
    	}
    ]
	}

]
